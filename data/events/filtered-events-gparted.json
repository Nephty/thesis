[
    {
        "id": 2560842,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2307458,
        "target_iid": 2307458,
        "target_type": "Note",
        "author_id": 5164,
        "target_title": "Increase minimum required version of libparted to 3.2",
        "created_at": "2024-12-31T18:41:34.597Z",
        "note": {
            "id": 2307458,
            "type": null,
            "body": "Thanks Mike for checking that this MR should merge to the correct place.\n\nThanks also for this patch set to simplify the code by removing unnecessary version checks.\n\nMy review of code has gone well.  It all looks good to me.  Your commit comments continue to be very helpful describing why a change was made.\n\nMy regression testing went well for the following distros:\n\nDistro        | Libparted Version\n------------- | -----------------\nDebian 12     | 3.5\nFedora 39     | 3.6\nopenSUSE 15.5 | 3.2\nKubuntu 20.04 | 3.3\nUbuntu 24.04  | 3.6\n\nIf no concerns are raised then I plan to rebase and merge this patch set in the next few days.\n\nThanks,  \nCurtis",
            "attachment": null,
            "author": {
                "id": 5164,
                "username": "gedakc",
                "name": "Curtis Gedak",
                "state": "active",
                "locked": false,
                "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
                "web_url": "https://gitlab.gnome.org/gedakc"
            },
            "created_at": "2024-12-31T18:41:33.130Z",
            "updated_at": "2024-12-31T18:41:33.130Z",
            "system": false,
            "noteable_id": 103292,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 131,
            "commands_changes": {}
        },
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "gedakc"
    },
    {
        "id": 2559635,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2306309,
        "target_iid": 2306309,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "Increase minimum required version of libparted to 3.2",
        "created_at": "2024-12-29T20:04:30.865Z",
        "note": {
            "id": 2306309,
            "type": null,
            "body": "Hi Curtis,\n\nIt will merge to the right place.  This is merge request 131 in the\nGNOME/gparted repository and it says \"into master\".\n\n![gparted-mr131-merge-request-pic1](/uploads/c9259f99d8a95b73b3592c9bf8872e1b/gparted-mr131-merge-request-pic1.png)\n\nThey must have changed something back in gitlab because now when pushing\na branch to my own mfleetwo/gparted repository, it allows merging with\nthe upstream GNOME/gparted repository, which is what we want.\n\nThanks,  \nMike",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-29T20:04:29.497Z",
            "updated_at": "2024-12-29T20:04:29.497Z",
            "system": false,
            "noteable_id": 103292,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 131,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2559559,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2306234,
        "target_iid": 2306234,
        "target_type": "Note",
        "author_id": 5164,
        "target_title": "Increase minimum required version of libparted to 3.2",
        "created_at": "2024-12-29T16:56:06.578Z",
        "note": {
            "id": 2306234,
            "type": null,
            "body": "Hi Mike,\n\nI was just about to review this patch set and noticed that it is on a branch under your \"mfleetwo\" account.\n\nDoes this need to be under the \"gparted\" account branch for the patch set to be merged later?\n\nThanks,  \nCurtis",
            "attachment": null,
            "author": {
                "id": 5164,
                "username": "gedakc",
                "name": "Curtis Gedak",
                "state": "active",
                "locked": false,
                "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
                "web_url": "https://gitlab.gnome.org/gedakc"
            },
            "created_at": "2024-12-29T16:56:05.507Z",
            "updated_at": "2024-12-29T16:56:05.507Z",
            "system": false,
            "noteable_id": 103292,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 131,
            "commands_changes": {}
        },
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "gedakc"
    },
    {
        "id": 2559350,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2306063,
        "target_iid": 2306063,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "Increase minimum required version of libparted to 3.2",
        "created_at": "2024-12-29T11:28:38.616Z",
        "note": {
            "id": 2306063,
            "type": null,
            "body": "Hi Curtis,\n\nHere's patchset v2.  Compared to v1 it rebases the code so it applies\ncleanly after !130 has been merged and make 3 white space only changes.\n\nThanks,  \nMike",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-29T11:28:37.630Z",
            "updated_at": "2024-12-29T11:28:37.630Z",
            "system": false,
            "noteable_id": 103292,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 131,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2559081,
        "project_id": 1638,
        "action_name": "deleted",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 5164,
        "target_title": null,
        "created_at": "2024-12-28T21:03:40.370Z",
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 0,
            "action": "removed",
            "ref_type": "branch",
            "commit_from": "e902626a9ed8e5bc953e228cfb2216d6288b4e4f",
            "commit_to": null,
            "ref": "no-btrfs-hang",
            "commit_title": null,
            "ref_count": null
        },
        "author_username": "gedakc"
    },
    {
        "id": 2559080,
        "project_id": 1638,
        "action_name": "closed",
        "target_id": 211287,
        "target_iid": 271,
        "target_type": "Issue",
        "author_id": 4062,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-12-28T21:03:36.083Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2559079,
        "project_id": 1638,
        "action_name": "accepted",
        "target_id": 102522,
        "target_iid": 130,
        "target_type": "MergeRequest",
        "author_id": 5164,
        "target_title": "Don't hang printing a UTF-8 exception in a none UTF-8 locale and don't execute btrfs when not found in $PATH",
        "created_at": "2024-12-28T21:03:36.022Z",
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "gedakc"
    },
    {
        "id": 2559078,
        "project_id": 1638,
        "action_name": "closed",
        "target_id": 211287,
        "target_iid": 271,
        "target_type": "Issue",
        "author_id": 4062,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-12-28T21:03:36.005Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2559077,
        "project_id": 1638,
        "action_name": "closed",
        "target_id": 211287,
        "target_iid": 271,
        "target_type": "Issue",
        "author_id": 4062,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-12-28T21:03:35.972Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2559076,
        "project_id": 1638,
        "action_name": "closed",
        "target_id": 211287,
        "target_iid": 271,
        "target_type": "Issue",
        "author_id": 4062,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-12-28T21:03:35.961Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2559075,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 5164,
        "target_title": null,
        "created_at": "2024-12-28T21:03:35.790Z",
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 8,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "cd22c010ea77c7168f1bf6f2694c16b4fbf0b9d3",
            "commit_to": "e902626a9ed8e5bc953e228cfb2216d6288b4e4f",
            "ref": "master",
            "commit_title": "Partial white space tidy-up of btrfs::get_filesystems_support()",
            "ref_count": null
        },
        "author_username": "gedakc"
    },
    {
        "id": 2559074,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 5164,
        "target_title": null,
        "created_at": "2024-12-28T21:03:25.020Z",
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 9,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "8cb5821e72526464f96139b4077c4b2b7f4de6a1",
            "commit_to": "e902626a9ed8e5bc953e228cfb2216d6288b4e4f",
            "ref": "no-btrfs-hang",
            "commit_title": "Partial white space tidy-up of btrfs::get_filesystems_support()",
            "ref_count": null
        },
        "author_username": "gedakc"
    },
    {
        "id": 2559073,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2305826,
        "target_iid": 2305826,
        "target_type": "Note",
        "author_id": 5164,
        "target_title": "Don't hang printing a UTF-8 exception in a none UTF-8 locale and don't execute btrfs when not found in $PATH",
        "created_at": "2024-12-28T21:03:09.858Z",
        "note": {
            "id": 2305826,
            "type": null,
            "body": "Hi Mike,\n\nThanks for the heads up that you only changed commit messages, and no code was changed.\n\nHence I will rebase and commit this patch set.\n\nThanks,  \nCurtis",
            "attachment": null,
            "author": {
                "id": 5164,
                "username": "gedakc",
                "name": "Curtis Gedak",
                "state": "active",
                "locked": false,
                "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
                "web_url": "https://gitlab.gnome.org/gedakc"
            },
            "created_at": "2024-12-28T21:03:08.234Z",
            "updated_at": "2024-12-28T21:03:08.234Z",
            "system": false,
            "noteable_id": 102522,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 130,
            "commands_changes": {}
        },
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "gedakc"
    },
    {
        "id": 2559023,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2305788,
        "target_iid": 2305788,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "Increase minimum required version of libparted to 3.2",
        "created_at": "2024-12-28T19:55:00.542Z",
        "note": {
            "id": 2305788,
            "type": null,
            "body": "Note that patch 5 \"Conditional ENABLE_ONLINE_RESIZE is now always\navailable (!131)\" doesn't apply on top of merge request !130 \"Don't hang\nprinting a UTF-8 exception in a none UTF-8 locale and don't execute\nbtrfs when not found in $PATH\" because both are changing lines next to\neach other in btrfs::get_filesystem_support() in src/btrfs.cc.  So after\n!130 is merged i'll have to rebase patch 5 in this merge request so that\nit applies cleanly.\n\nThanks,  \nMike",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-28T19:54:59.707Z",
            "updated_at": "2024-12-28T19:54:59.707Z",
            "system": false,
            "noteable_id": 103292,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 131,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2558486,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2305347,
        "target_iid": 2305347,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "Don't hang printing a UTF-8 exception in a none UTF-8 locale and don't execute btrfs when not found in $PATH",
        "created_at": "2024-12-27T23:08:38.991Z",
        "note": {
            "id": 2305347,
            "type": null,
            "body": "Hi Curtis,\n\nHere's patchset v2.  Compared to v1 the only difference is that minor\nchanges were made to commit messages 1, 2 & 7.  No code changes were\nmade.\n\nThanks,  \nMike",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-27T23:08:38.063Z",
            "updated_at": "2024-12-27T23:08:38.063Z",
            "system": false,
            "noteable_id": 102522,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 130,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2558485,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-27T23:05:47.445Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "b4e90b603c63208f4ef985417956eb4ee25b517c",
            "commit_to": "8cb5821e72526464f96139b4077c4b2b7f4de6a1",
            "ref": "no-btrfs-hang",
            "commit_title": "Partial white space tidy-up of btrfs::get_filesystems_support()",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2558484,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-27T23:05:26.550Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "d06eb7af76a16ed055f38687a75a2577f379aeef",
            "commit_to": "b4e90b603c63208f4ef985417956eb4ee25b517c",
            "ref": "no-btrfs-hang",
            "commit_title": "Remove fallback for bcachefs online read FS usage",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2558482,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-27T23:05:13.397Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "0e1fb7f96181c409f78f5c6f7604c45624745a25",
            "commit_to": "d06eb7af76a16ed055f38687a75a2577f379aeef",
            "ref": "no-btrfs-hang",
            "commit_title": "Constify Utils::get_failure_status() parameter",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2558481,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-27T23:04:48.915Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "800d24cc4ff4f69f397f6fdbd51430715b44efef",
            "commit_to": "0e1fb7f96181c409f78f5c6f7604c45624745a25",
            "ref": "no-btrfs-hang",
            "commit_title": "Don't run btrfs when not found, while setting mount points (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2558480,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-27T23:04:30.802Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "988f7ee862b3cd52a0c1b936e12d7f64aa4ecb10",
            "commit_to": "800d24cc4ff4f69f397f6fdbd51430715b44efef",
            "ref": "no-btrfs-hang",
            "commit_title": "Don't run btrfs when not found, reading online usage (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2558478,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-27T23:03:46.955Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "8ae4b8233906d08570d6e3f4bc71b1629ec4bcb8",
            "commit_to": "988f7ee862b3cd52a0c1b936e12d7f64aa4ecb10",
            "ref": "no-btrfs-hang",
            "commit_title": "Don't run btrfs when not found, during busy detection (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2558477,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-27T23:03:19.091Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "78e2a0c35feb975d436095eb36b324f8b8797b02",
            "commit_to": "8ae4b8233906d08570d6e3f4bc71b1629ec4bcb8",
            "ref": "no-btrfs-hang",
            "commit_title": "Convert all printed exceptions into the locale's character set (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2558476,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-27T23:01:46.088Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "c0e37584b7cc89f6e93bc4ca46d665103bac92c4",
            "commit_to": "78e2a0c35feb975d436095eb36b324f8b8797b02",
            "ref": "no-btrfs-hang",
            "commit_title": "Don't hang printing a UTF-8 exception in a none UTF-8 locale (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2558352,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2305242,
        "target_iid": 2305242,
        "target_type": "Note",
        "author_id": 5164,
        "target_title": "Don't hang printing a UTF-8 exception in a none UTF-8 locale and don't execute btrfs when not found in $PATH",
        "created_at": "2024-12-27T19:15:12.691Z",
        "note": {
            "id": 2305242,
            "type": null,
            "body": "Thank you Mike for this patch set to prevent GParted from hanging.\n\nIt has been a while since I last reviewed code so if I've missed anything just let me know.\n\nThe changes in the code for this patch set look good to me.\n\nI have also done some brief regression testing and all went well on the following distros:\n\n- Debian 12\n- Fedora 39 (older but still tested fine)\n- openSUSE 15.5 (also older but still tested fine)\n- Kubuntu 20.04\n- Ubuntu 24.04\n\nIf no concerns are raised then I plan to rebase and merge this patch set in the next day or so.\n\nThanks,  \nCurtis",
            "attachment": null,
            "author": {
                "id": 5164,
                "username": "gedakc",
                "name": "Curtis Gedak",
                "state": "active",
                "locked": false,
                "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
                "web_url": "https://gitlab.gnome.org/gedakc"
            },
            "created_at": "2024-12-27T19:15:11.401Z",
            "updated_at": "2024-12-27T19:15:11.401Z",
            "system": false,
            "noteable_id": 102522,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 130,
            "commands_changes": {}
        },
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "gedakc"
    },
    {
        "id": 2557365,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2304359,
        "target_iid": 2304359,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "Increase minimum required version of libparted to 3.2",
        "created_at": "2024-12-26T15:43:19.444Z",
        "note": {
            "id": 2304359,
            "type": null,
            "body": "Here's patchset v1 for this.  Mike",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-26T15:43:18.689Z",
            "updated_at": "2024-12-26T15:43:18.689Z",
            "system": false,
            "noteable_id": 103292,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 131,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2557299,
        "project_id": 1638,
        "action_name": "opened",
        "target_id": 103292,
        "target_iid": 131,
        "target_type": "MergeRequest",
        "author_id": 4062,
        "target_title": "Increase minimum required version of libparted to 3.2",
        "created_at": "2024-12-26T14:04:33.063Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2554662,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2302206,
        "target_iid": 2302206,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-12-21T22:57:08.397Z",
        "note": {
            "id": 2302206,
            "type": null,
            "body": "For the record here is how to manually re-produce the hanging behaviour\non Debian and Ubuntu:\n\n1. Create a BSD whole disk device lock:\n```\n# python3\nPython 3.12.3 (main, Nov  6 2024, 18:32:19) [GCC 13.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import fcntl\n>>> f = open('/dev/sdb','wb')\n>>> fcntl.flock(f, fcntl.LOCK_EX|fcntl.LOCK_NB)\n>>>\n[1]+  Stopped                 python3\n```\n\n2. Use parted to update the partition table while the lock is held.  (In\n   this case the LVM flag is being cleared on partition 1):\n```\n# parted -s /dev/sdb set 1 lvm off\nTimed out for waiting the udev queue being empty.\nTimed out for waiting the udev queue being empty.\n\nreal    4m0.530s\nuser    0m0.002s\nsys     0m0.027s\n```\n\n3. Test \"udevadm settle\" directly while the lock is held.\n```\n# time udevadm settle\nTimed out for waiting the udev queue being empty.\n\nreal    2m0.124s\nuser    0m0.001s\nsys     0m0.004s\n```\n\nThis is caused by this Debian and Ubuntu specific\n[udevadm-settle.patch](https://sources.debian.org/patches/parted/3.5-3/udevadm-settle.patch/)\nincluded in the\n[libparted2](https://packages.debian.org/bookworm/libparted2) package on\nthose distributions.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-21T22:57:07.316Z",
            "updated_at": "2024-12-21T22:57:07.316Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2552337,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2300173,
        "target_iid": 2300173,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-12-18T15:14:15.649Z",
        "note": {
            "id": 2300173,
            "type": null,
            "body": "Ahh, right... I think I saw a bug report not long ago asking that this patch be dropped.  That won't help gparted though since it will remain in supported releases of debian and Ubuntu.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-12-18T15:14:14.553Z",
            "updated_at": "2024-12-18T15:14:14.553Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2552230,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2300052,
        "target_iid": 2300052,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-12-18T13:09:37.679Z",
        "note": {
            "id": 2300052,
            "type": null,
            "body": "Arrhhh!\n\nI've got as far as replacing FS masking in the gparted shell script\nwrapper with properly coded whole disk device locking (branch\n[replace-fs-masking-devel4.2](https://gitlab.gnome.org/mfleetwo/gparted/-/tree/replace-fs-masking-devel4.2?ref_type=heads)).\nNo FS masking around unlock time to deal with old buggy systemd on\nRHEL 8 yet.\n\nI tested this on a few distributions.  Unfortunately on Debian 12 and\nUbuntu 24.04 LTS I found that the GParted UI hung for multiple minutes.\nFedora 40 isn't affected by this.  When I dug into the cause I found\nthat the libparted package in Debian 12 and Ubuntu 24.04 LTS include\nnone upstreamed patch `debian/patches/udevadm-settle.patch` which at the\ntop of `linux_disk_commit()` adds:\n```\n /* Return nonzero upon success, 0 if something fails.  */\n static int\n linux_disk_commit (PedDisk* disk)\n {\n+        /* Modern versions of udev may notice the write activity on\n+         * partition devices caused by _flush_cache, and may decide to\n+         * synthesise some change events as a result. These may in turn run\n+         * programs that open partition devices, which will race with us\n+         * trying to remove those devices. To avoid this, we need to wait\n+         * until udevd has finished processing its event queue.\n+         * TODO: for upstream submission, this should check whether udevadm\n+         * exists on $PATH.\n+         */\n+        if (!_chrooted () && system (\"udevadm settle\") != 0) {\n+                /* ignore failures */\n+        }\n         if (disk->dev->type != PED_DEVICE_FILE) {\n \n                 /* We now require BLKPG support.  If this assertion fails,\n```\n\nSo when GParted is holding the BSD whole disk device lock to stop\nsystemd / udevd processing events and it calls\n`ped_disk_commit_to_os()`, libparted goes off and runs `udevadm settle`\nwhich hangs for 2 minutes because it knows events are pending from the\nchange GParted just made.\n```\n# time udevadm settle\nTimed out for waiting the udev queue being empty.\n\nreal    2m0.117s\nuser    0m0.002s\nsys     0m0.003s\n# echo $?\n1\n```\n\nThis means GParted can't be holding the lock when calling at least\n`ped_disk_commit_to_os()`.  But the whole point of this request is that\nGParted use BSD device locks.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-18T13:09:36.768Z",
            "updated_at": "2024-12-18T13:09:36.768Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2550079,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2298224,
        "target_iid": 2298224,
        "target_type": "Note",
        "author_id": 17770,
        "target_title": "Gparted does not fully load up",
        "created_at": "2024-12-15T09:25:06.488Z",
        "note": {
            "id": 2298224,
            "type": null,
            "body": "Looks like you need proprietary firmware/software for your hardware. Since Debian has moved the proprietary firmware to non-free category, and we have decided not to include those non-free firmware anymore in GParted live...\nNext time  you can try other live system which includes GParted and non-free firmware for your hardware.\n\nE.g., \n\nUbuntu live system, or maybe these (I am not sure if they come with non-free firmware)\\:\n\nhttps://partedmagic.com/\n\nhttps://www.system-rescue.org/\n\nSteven",
            "attachment": null,
            "author": {
                "id": 17770,
                "username": "stevenshiau",
                "name": "Steven Shiau",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/17c08b5691157bb26a69db8c81d30a9f303c453ab8f477f4c1e1a86d471772ae?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/stevenshiau"
            },
            "created_at": "2024-12-15T09:25:05.443Z",
            "updated_at": "2024-12-15T09:25:24.298Z",
            "system": false,
            "noteable_id": 207761,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 268,
            "commands_changes": {}
        },
        "author": {
            "id": 17770,
            "username": "stevenshiau",
            "name": "Steven Shiau",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/17c08b5691157bb26a69db8c81d30a9f303c453ab8f477f4c1e1a86d471772ae?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/stevenshiau"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "stevenshiau"
    },
    {
        "id": 2543032,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2292311,
        "target_iid": 2292311,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-12-07T11:01:50.985Z",
        "note": {
            "id": 2292311,
            "type": null,
            "body": "I've been thinking further.  There is another way for GParted to do\nthis:\n1. Lock device\n2. Implement the GParted operation\n3. Unlock\n   1. Mask file system\n   2. Unlock device\n   3. Trigger any UDEV partition device remove and add events\n   4. Unmask file system\n\nThis encapsulates the FS masking into one place in the code and making\nit conditional on having old buggy systemd shows a real benefit.  The\ndevice locking and unlocking will be new steps which appear in the\nreported details of the operation within GParted.\n\nI'll code GParted to do this.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-07T11:01:48.504Z",
            "updated_at": "2024-12-07T11:02:36.191Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2542766,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2292118,
        "target_iid": 2292118,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-12-06T21:42:19.923Z",
        "note": {
            "id": 2292118,
            "type": null,
            "body": "I am struggling with the level of complexity needed to handle old\nsystemd with the automatic FS mounting bug.  Around every operation\nGParted would have to do:\n1. Mask file system\n2. Lock device\n3. Implement the GParted operation\n4. Unlock device\n5. Open device/partitions read-write and close  \n   (This is to have the kernel emit any pending UDEV events now while\n   the FS is masked so automatic mounting of the FS doesn't happen\n   later.  Reading the partition table again with ped_disk_new() seems\n   like it will do all this in one call).\n6. Unmask file system\nMaking the FS masking conditional on having an old buggy systemd only\nmakes it more complex, not less.\n\nDon't get me wrong.  I can write all the code and I understand it all\nnow.  But to anybody else, or even me if a few years, it will be \"What\non Earth is all that complexity for?\"  That's why I picked just masking\nthe file systems around each GParted operation.  It equivalent to now,\nachieves what is needed and is really simple to understand.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-06T21:42:18.744Z",
            "updated_at": "2024-12-06T21:42:18.744Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2541947,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2291345,
        "target_iid": 2291345,
        "target_type": "Note",
        "author_id": 150203,
        "target_title": "Gparted does not fully load up",
        "created_at": "2024-12-05T22:02:59.754Z",
        "note": {
            "id": 2291345,
            "type": null,
            "body": "I had the same problem today and I believe it was something to due with AMD graphics settings, I had to use a previous version of the gparted live disk and select the safe option or else the usb stickw would get stuck exactly like that.  Thanks for the heads up.  My system is a Lenovo S7 with a discrete NVIDIA and onboard AMD graphics card and I hope this can be resolved in future versions.",
            "attachment": null,
            "author": {
                "id": 150203,
                "username": "tedr2024",
                "name": "ted r",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/b41916c789e10b35d4941873bf501599cfcca273c31f52bd65f903fbcd15d0f6?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/tedr2024"
            },
            "created_at": "2024-12-05T22:02:58.715Z",
            "updated_at": "2024-12-05T22:02:58.715Z",
            "system": false,
            "noteable_id": 207761,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 268,
            "commands_changes": {}
        },
        "author": {
            "id": 150203,
            "username": "tedr2024",
            "name": "ted r",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/b41916c789e10b35d4941873bf501599cfcca273c31f52bd65f903fbcd15d0f6?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/tedr2024"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "tedr2024"
    },
    {
        "id": 2541496,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2290958,
        "target_iid": 2290958,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "Don't hang printing a UTF-8 exception in a none UTF-8 locale and don't execute btrfs when not found in $PATH",
        "created_at": "2024-12-05T15:49:25.796Z",
        "note": {
            "id": 2290958,
            "type": null,
            "body": "Here's patchset v1.\nMike",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-05T15:49:24.974Z",
            "updated_at": "2024-12-05T15:49:24.974Z",
            "system": false,
            "noteable_id": 102522,
            "noteable_type": "MergeRequest",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 130,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2541492,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:48:13.606Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "9b1a7e83264b9b58a6c1216cf126f282ea7054d6",
            "commit_to": "c0e37584b7cc89f6e93bc4ca46d665103bac92c4",
            "ref": "no-btrfs-hang",
            "commit_title": "Partial white space tidy-up of btrfs::get_filesystems_support()",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541490,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:47:57.405Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "4709fcdb0a890442cc389dcdad10311782fe3501",
            "commit_to": "9b1a7e83264b9b58a6c1216cf126f282ea7054d6",
            "ref": "no-btrfs-hang",
            "commit_title": "Remove fallback for bcachefs online read FS usage",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541489,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:47:40.402Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "ac4475a0d59fbd0a45c6aaf7430ad50c45c900a4",
            "commit_to": "4709fcdb0a890442cc389dcdad10311782fe3501",
            "ref": "no-btrfs-hang",
            "commit_title": "Constify Utils::get_failure_status() parameter",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541488,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:47:19.007Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "0e0fb167023c0062a557238b27d8c8c9768a5c90",
            "commit_to": "ac4475a0d59fbd0a45c6aaf7430ad50c45c900a4",
            "ref": "no-btrfs-hang",
            "commit_title": "Don't run btrfs when not found, while setting mount points (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541487,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:46:59.454Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "eff91e8a3467e54554af5a080af46b1fe813609d",
            "commit_to": "0e0fb167023c0062a557238b27d8c8c9768a5c90",
            "ref": "no-btrfs-hang",
            "commit_title": "Don't run btrfs when not found, reading online usage (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541486,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:46:37.057Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "e29ee4e545186bd2986e8f96b32c06e0226b2b15",
            "commit_to": "eff91e8a3467e54554af5a080af46b1fe813609d",
            "ref": "no-btrfs-hang",
            "commit_title": "Don't run btrfs when not found, during busy detection (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541485,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:46:21.351Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "6b30bc510df776dd929fb5ab8269339dcd942c1e",
            "commit_to": "e29ee4e545186bd2986e8f96b32c06e0226b2b15",
            "ref": "no-btrfs-hang",
            "commit_title": "Convert all other exceptions into the locale's character set (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541484,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:46:01.318Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "30aacd42639834d7bf1e9ed62ae2de8da1e62e79",
            "commit_to": "6b30bc510df776dd929fb5ab8269339dcd942c1e",
            "ref": "no-btrfs-hang",
            "commit_title": "Don't hang printing a UTF-8 exception in a none UTF-8 locale (#271)",
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541475,
        "project_id": 1638,
        "action_name": "opened",
        "target_id": 102522,
        "target_iid": 130,
        "target_type": "MergeRequest",
        "author_id": 4062,
        "target_title": "Don't hang printing a UTF-8 exception in a none UTF-8 locale and don't execute btrfs when not found in $PATH",
        "created_at": "2024-12-05T15:42:45.588Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2541473,
        "project_id": 1638,
        "action_name": "pushed new",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:41:35.801Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 0,
            "action": "created",
            "ref_type": "branch",
            "commit_from": null,
            "commit_to": "30aacd42639834d7bf1e9ed62ae2de8da1e62e79",
            "ref": "no-btrfs-hang",
            "commit_title": null,
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541470,
        "project_id": 1638,
        "action_name": "closed",
        "target_id": 102519,
        "target_iid": 129,
        "target_type": "MergeRequest",
        "author_id": 4062,
        "target_title": "Draft: Testb",
        "created_at": "2024-12-05T15:40:09.592Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2541469,
        "project_id": 1638,
        "action_name": "deleted",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:40:09.547Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 0,
            "action": "removed",
            "ref_type": "branch",
            "commit_from": "cd22c010ea77c7168f1bf6f2694c16b4fbf0b9d3",
            "commit_to": null,
            "ref": "testb",
            "commit_title": null,
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2541465,
        "project_id": 1638,
        "action_name": "opened",
        "target_id": 102519,
        "target_iid": 129,
        "target_type": "MergeRequest",
        "author_id": 4062,
        "target_title": "Draft: Testb",
        "created_at": "2024-12-05T15:36:44.794Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2541464,
        "project_id": 1638,
        "action_name": "pushed new",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 4062,
        "target_title": null,
        "created_at": "2024-12-05T15:36:30.245Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 0,
            "action": "created",
            "ref_type": "branch",
            "commit_from": null,
            "commit_to": "cd22c010ea77c7168f1bf6f2694c16b4fbf0b9d3",
            "ref": "testb",
            "commit_title": null,
            "ref_count": null
        },
        "author_username": "mfleetwo"
    },
    {
        "id": 2539685,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2289072,
        "target_iid": 2289072,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-12-02T13:22:48.637Z",
        "note": {
            "id": 2289072,
            "type": null,
            "body": "The benefit of taking the lock in gparted during the apply operations phase is that it will prevent udevdb from being populated with incorrect information that is obtained from inspecting the disk between the individual operations gparted is applying.  This could lead to undesirable outcomes.\n\nmkfs does not need to take the lock since it only opens and closes the device one time, so any scanning udev does inherently won't be done until mkfs finishes.  gparted repeatedly opens and closes the devices multiple times, so it should take the lock to signal the rest of the system that while it may have closed the file descriptor, it isn't yet done manipulating the disk.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-12-02T13:22:47.890Z",
            "updated_at": "2024-12-02T13:22:47.890Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2539111,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2288645,
        "target_iid": 2288645,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-12-01T16:31:22.456Z",
        "note": {
            "id": 2288645,
            "type": null,
            "body": "**Systemd device locking**  \nSystemd's\n[Locking Block Device Access](https://systemd.io/BLOCK_DEVICE_LOCKING/)\nsays:\n> Summarizing: it is recommended to take `LOCK_EX` BSD file locks when\n> manipulating block devices in all tools that change file system block\n> devices (`mkfs`, `fsck`, ...) or partition tables (`fdisk`, `parted`,\n> ...), right after opening the node.\n\nSo lets assume that GParted takes an exclusive lock while it performs\neach operation.  Many of GParted's operations involve multiple steps.\nConsider the two step create operation; step 1 - create the partition,\nand step 2 - run the relevant `mkfs` command.  But as GParted is holding\nthe device lock exclusively, the `mkfs` command will fail because it\ncan't lock the device exclusively itself so the overall operation fails.\n\nThe locking document describes no way to deligate a lock to a\nsubordinate process so that can't be done.\n\nSo now lets assume that GParted only holds the exclusive device lock\nwhile it is calling libparted to manipulate the partition table.  It has\nto release the lock before running every external file system specific\ncommand.  From a locking point of view that is racy, and from a code\npoint of view aquiring and relasing the lock just around all the sites\nthat manipulate the partition table is more involved.\n\nI've straced the `mkfs` and `fsck` command for the most popular file\nsystems (btrfs, ext2/3/4, xfs, exfat, fat) and `fdisk` on Fedora 40\n(released April 2024) and none of those tools call `flock(2)` so don't\ntake exclusive locks.\n\nI find this locking not suitable to GParted's needs and not implemented\nby any tool that apparently ought to implement it.  Therefore I see no\nbenefit in GParted implementing this locking.\n\n**Systemd file system masking**  \nFile system masking prevents systemd changing the mounted state of a\nfile system.  The mounted state of the file system needs to remain\nunchanged while GParted is applying a multi-step operation to that\nparticular file system in order to prevent failure of that operation and\nin some cases data corruption.\n\nCurrently GParted masks all file systems (except the root file system)\nall the time it is running in order to achieve prevent the mount state\nchanging.  This is undesireable because of dependancies between units\ncan result in services not being restarted after being updated.\n\nI think GParted should mask just the file system it is operating on,\nonly while it is applying the operation to the said file system.  To\nkeep code as simple as possible it should always do this, regardless of\nthe version of systemd.  This continues to workaround the old systemd\nmounting bug present in RHEL 8 and prevents the file system mount state\nchanging in the middle of GParted applying an operation.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-01T16:31:21.760Z",
            "updated_at": "2024-12-01T16:31:21.760Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2538953,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2288558,
        "target_iid": 2288558,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-12-01T12:40:21.103Z",
        "note": {
            "id": 2288558,
            "type": null,
            "body": "I've continued to dig deeper into the cause of this issue and asked a\nquestion in GNOME discourse thread \n[How to print glibmm(glib) UTF-8 exception in the C locale?](https://discourse.gnome.org/t/how-to-print-glibmm-glib-utf-8-exception-in-the-c-locale/25329)",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-12-01T12:40:20.525Z",
            "updated_at": "2024-12-01T13:03:18.540Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2538248,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2288003,
        "target_iid": 2288003,
        "target_type": "DiscussionNote",
        "author_id": 121454,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-30T01:55:24.048Z",
        "note": {
            "id": 2288003,
            "type": "DiscussionNote",
            "body": "However ... LANG=C is not that uncommon and it really needs to be fixed :)",
            "attachment": null,
            "author": {
                "id": 121454,
                "username": "tavvva",
                "name": "Jarom\u00edr C\u00e1p\u00edk",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/tavvva"
            },
            "created_at": "2024-11-30T01:55:23.202Z",
            "updated_at": "2024-11-30T01:55:23.202Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": true,
            "resolved": false,
            "resolved_by": null,
            "resolved_at": null,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 121454,
            "username": "tavvva",
            "name": "Jarom\u00edr C\u00e1p\u00edk",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/tavvva"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "tavvva"
    },
    {
        "id": 2538246,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2288002,
        "target_iid": 2288002,
        "target_type": "DiscussionNote",
        "author_id": 121454,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-30T01:52:29.010Z",
        "note": {
            "id": 2288002,
            "type": "DiscussionNote",
            "body": "Looking at timestamps of my /usr/lib/locale/locale-archive, I think I generated locales after playing with gparted and of course it works correctly now and I can't reproduce the issue anymore. I tried 2 things ... 1.) rename locale-archive and retest -> FAIL, 2.) restore locale-archive and set locale.conf to en_US.UTF-8 that is not enabled in my locale.gen config and therefore not generated -> FAIL. So, it probably acted as LANG=C in both cases and that answers why it happened.",
            "attachment": null,
            "author": {
                "id": 121454,
                "username": "tavvva",
                "name": "Jarom\u00edr C\u00e1p\u00edk",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/tavvva"
            },
            "created_at": "2024-11-30T01:52:28.387Z",
            "updated_at": "2024-11-30T02:00:07.042Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": true,
            "resolved": false,
            "resolved_by": null,
            "resolved_at": null,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 121454,
            "username": "tavvva",
            "name": "Jarom\u00edr C\u00e1p\u00edk",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/tavvva"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "tavvva"
    },
    {
        "id": 2538239,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2288001,
        "target_iid": 2288001,
        "target_type": "DiscussionNote",
        "author_id": 121454,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-30T01:40:43.335Z",
        "note": {
            "id": 2288001,
            "type": "DiscussionNote",
            "body": "```\nThis works as expected:\nLANG=C.utf8 gparted\n\nThis doesn't:\nLANG=C gparted\n```",
            "attachment": null,
            "author": {
                "id": 121454,
                "username": "tavvva",
                "name": "Jarom\u00edr C\u00e1p\u00edk",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/tavvva"
            },
            "created_at": "2024-11-30T01:40:42.694Z",
            "updated_at": "2024-11-30T01:41:02.758Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": true,
            "resolved": false,
            "resolved_by": null,
            "resolved_at": null,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 121454,
            "username": "tavvva",
            "name": "Jarom\u00edr C\u00e1p\u00edk",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/tavvva"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "tavvva"
    },
    {
        "id": 2538236,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2288000,
        "target_iid": 2288000,
        "target_type": "DiscussionNote",
        "author_id": 121454,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-30T01:28:09.290Z",
        "note": {
            "id": 2288000,
            "type": "DiscussionNote",
            "body": "```\nlocale: cs_CZ.utf8      archive: /usr/lib/locale/locale-archive\n    title | Czech locale for the Czech Republic\n    email | bug-glibc-locales@gnu.org\nlocale: C.utf8          directory: /usr/lib/locale/C.utf8\n    title | C locale\n    email | bug-glibc-locales@gnu.org\n```",
            "attachment": null,
            "author": {
                "id": 121454,
                "username": "tavvva",
                "name": "Jarom\u00edr C\u00e1p\u00edk",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/tavvva"
            },
            "created_at": "2024-11-30T01:28:08.572Z",
            "updated_at": "2024-11-30T01:28:08.572Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": true,
            "resolved": false,
            "resolved_by": null,
            "resolved_at": null,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 121454,
            "username": "tavvva",
            "name": "Jarom\u00edr C\u00e1p\u00edk",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/tavvva"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "tavvva"
    },
    {
        "id": 2538221,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2287983,
        "target_iid": 2287983,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-30T00:14:44.197Z",
        "note": {
            "id": 2287983,
            "type": "DiscussionNote",
            "body": "1. There is a bug in GParted that when it detects a btrfs file system,\n   it runs `btrfs filesystem show '/dev/PTN#'` even when the `btrfs`\n   executable is not found.  This is what produces this error:\n   > Failed to execute child process \"btrfs\" (No such file or directory)\n\n   (GParted is doing this in order to determine if the btrfs file system\n   is mounted or not.  This is because btrfs file systems are\n   multi-device capable and can be mounted via any of the devices so it\n   is using that command to list all the devices in the file system).\n\n2. I don't understand this very well, but I think your locale can't\n   translate the message \"Failed to execute child process\" from libglib,\n   and instead reports the unhandled exception and never returns.  Hence\n   causing GParted device scan to never complete.\n\nThese explain why only you are getting the error and installing the\nbtrfs-progs package fixes the issue.\n\nPlease run `locale -av | grep locale:` and assuming `C.utf8` is one of\nthe reported locales run this without btrfs-progs installed.\n```\nLANG=C.utf8 sudo gparted\n```\nDoes the error \"Failed to execute child process\" get reported on the\nconsole and does the GParted device scan now complete?",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-30T00:14:43.501Z",
            "updated_at": "2024-11-30T01:28:08.650Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": true,
            "resolved": false,
            "resolved_by": null,
            "resolved_at": null,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2538219,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2287981,
        "target_iid": 2287981,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-30T00:02:18.337Z",
        "note": {
            "id": 2287981,
            "type": null,
            "body": "In a Ubuntu 22.04 LTS VM I created a partition with btrfs and removed\nthe btrfs-progs package.  I ran GParted from the terminal and saw this\noutput:\n```\nuser$ sudo gparted\nGParted 1.6.0\nconfiguration --enable-online-resize\nlibparted 3.4\nFailed to execute child process \"btrfs\" (No such file or directory)\n```\nThe GParted device scan ran normally and the main window displayed the\nfirst disk drive.\n\nHowever when I ran this:\n```\nuser$ LANG=C sudo gparted\nGParted 1.6.0\nconfiguration --enable-online-resize\nlibparted 3.4\n\n** (gpartedbin:26222): CRITICAL **: 22:56:17.945:\nunhandled exception (type Glib::Error) in signal handler:\ndomain: g_convert_error\ncode  : 1\nwhat  : Invalid byte sequence in conversion input\n```\nGParted gets stuck at \"Searching /dev/sda partitions\" with the pulsebar\nmoving back and forth.\n\n![gparted-i271-main-window-1](/uploads/a78dc0b5c3afad086ce8c1ae6ae69640/gparted-i271-main-window-1.png)",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-30T00:02:17.106Z",
            "updated_at": "2024-11-30T00:02:17.106Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2538115,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2287884,
        "target_iid": 2287884,
        "target_type": "DiscussionNote",
        "author_id": 121454,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-29T20:36:59.219Z",
        "note": {
            "id": 2287884,
            "type": "DiscussionNote",
            "body": "```\n/dev/sda7: UUID=\"d36c6439-e625-4c47-8905-0b41b78a2e5b\" TYPE=\"swap\" PARTUUID=\"da6d175b-07\"\n/dev/sda5: LABEL=\"Fedora\" UUID=\"65220437-315c-41c1-b640-94d3c3cdf190\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTUUID=\"da6d175b-05\"\n/dev/sda3: UUID=\"21ff3548-56e4-48d1-83d6-70561ed48ba9\" UUID_SUB=\"44bfd32e-71c5-4b0a-b024-8456857075d2\" BLOCK_SIZE=\"4096\" TYPE=\"btrfs\" PARTUUID=\"da6d175b-03\"\n/dev/sda1: UUID=\"1ed9849a-29a6-4bf1-8bb1-eb27019b90ad\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PTTYPE=\"dos\" PARTUUID=\"da6d175b-01\"\n/dev/sda6: LABEL=\"Data\" UUID=\"1d563d97-8113-45b5-8db9-9bb4d2007cd9\" UUID_SUB=\"1280a887-9eb2-4065-baa6-6bf9d44be741\" BLOCK_SIZE=\"4096\" TYPE=\"btrfs\" PARTUUID=\"da6d175b-06\"\n```",
            "attachment": null,
            "author": {
                "id": 121454,
                "username": "tavvva",
                "name": "Jarom\u00edr C\u00e1p\u00edk",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/tavvva"
            },
            "created_at": "2024-11-29T20:36:58.650Z",
            "updated_at": "2024-11-29T20:36:58.650Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": true,
            "resolved": false,
            "resolved_by": null,
            "resolved_at": null,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 121454,
            "username": "tavvva",
            "name": "Jarom\u00edr C\u00e1p\u00edk",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/tavvva"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "tavvva"
    },
    {
        "id": 2538114,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2287883,
        "target_iid": 2287883,
        "target_type": "DiscussionNote",
        "author_id": 121454,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-29T20:36:23.450Z",
        "note": {
            "id": 2287883,
            "type": "DiscussionNote",
            "body": "Hello Mike.\nYeah, btrfs is pretty much there :) Twice",
            "attachment": null,
            "author": {
                "id": 121454,
                "username": "tavvva",
                "name": "Jarom\u00edr C\u00e1p\u00edk",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/tavvva"
            },
            "created_at": "2024-11-29T20:36:22.847Z",
            "updated_at": "2024-11-29T20:36:22.847Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": true,
            "resolved": false,
            "resolved_by": null,
            "resolved_at": null,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 121454,
            "username": "tavvva",
            "name": "Jarom\u00edr C\u00e1p\u00edk",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/tavvva"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "tavvva"
    },
    {
        "id": 2538092,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2287873,
        "target_iid": 2287873,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-29T20:05:23.173Z",
        "note": {
            "id": 2287873,
            "type": "DiscussionNote",
            "body": "Yes, btrfs-progs is still an optional dependancy.\n\nI've just tested this by removing the btrfs-progs package and running\nGParted.  Device scan worked normally and the main window was displayed\nshowing the partitions.  Test on:\n* Alpine Linux 3.18 with GParted 1.5.0\n* Ubuntu 22.04 LTS with GParted 1.6.0\n\nLooking at the referenced archlinux bug ...  In the past \"Invalid byte\nsequence in conversion input\" error only occurred when GParted read the\noutput from a command it ran which contained binary data rather than\nvalid UTF-8 characters.\n\nAll the `btrfs` command execution should be conditional on the\nexecutable being found in the path.  At the moment I don't understand\nwhy installing btrfs-progs package makes the issue go away.  It appears\nas something specific on your setup is triggering the issue.\n\nClutching at straws ...\n1. Have you ever had a btrfs file system on any of your disks?\n2. What does this report?\n   ```\n   blkid /dev/sda*\n   ```",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-29T20:05:22.481Z",
            "updated_at": "2024-11-29T20:36:22.883Z",
            "system": false,
            "noteable_id": 211287,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": true,
            "resolved": false,
            "resolved_by": null,
            "resolved_at": null,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 271,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2537935,
        "project_id": 1638,
        "action_name": "opened",
        "target_id": 211287,
        "target_iid": 271,
        "target_type": "Issue",
        "author_id": 121454,
        "target_title": "GParted hangs while searching /dev/sda partitions when btrfs-progs is not installed",
        "created_at": "2024-11-29T16:14:54.275Z",
        "author": {
            "id": 121454,
            "username": "tavvva",
            "name": "Jarom\u00edr C\u00e1p\u00edk",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/306baf3cc902f5ded62763a1dd992f22f2cc8108d549cb4b941fdf46bf333175?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/tavvva"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "tavvva"
    },
    {
        "id": 2533072,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2283127,
        "target_iid": 2283127,
        "target_type": "Note",
        "author_id": 17770,
        "target_title": "Punjabi characters not showing properly",
        "created_at": "2024-11-22T22:22:23.445Z",
        "note": {
            "id": 2283127,
            "type": null,
            "body": "Is this issue reproducible in testing GParted live 1.6.0-12?\nhttps://sourceforge.net/projects/gparted/files/gparted-live-testing/1.6.0-12/\n\nSteven",
            "attachment": null,
            "author": {
                "id": 17770,
                "username": "stevenshiau",
                "name": "Steven Shiau",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/17c08b5691157bb26a69db8c81d30a9f303c453ab8f477f4c1e1a86d471772ae?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/stevenshiau"
            },
            "created_at": "2024-11-22T22:22:22.700Z",
            "updated_at": "2024-11-22T22:22:22.700Z",
            "system": false,
            "noteable_id": 210790,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 270,
            "commands_changes": {}
        },
        "author": {
            "id": 17770,
            "username": "stevenshiau",
            "name": "Steven Shiau",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/17c08b5691157bb26a69db8c81d30a9f303c453ab8f477f4c1e1a86d471772ae?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/stevenshiau"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "stevenshiau"
    },
    {
        "id": 2532866,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2283029,
        "target_iid": 2283029,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "What gparted is doing?",
        "created_at": "2024-11-22T19:28:48.233Z",
        "note": {
            "id": 2283029,
            "type": null,
            "body": "GParted already provides process indication as demonstrated.  No\nfurther information provided.  Closing this issue.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-22T19:28:47.646Z",
            "updated_at": "2024-11-22T19:28:47.646Z",
            "system": false,
            "noteable_id": 209866,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 269,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2532865,
        "project_id": 1638,
        "action_name": "closed",
        "target_id": 209866,
        "target_iid": 269,
        "target_type": "Issue",
        "author_id": 4062,
        "target_title": "What gparted is doing?",
        "created_at": "2024-11-22T19:28:48.003Z",
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2532045,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2282313,
        "target_iid": 2282313,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-21T17:50:15.617Z",
        "note": {
            "id": 2282313,
            "type": null,
            "body": "It seems that this auto mounting behavior was a bug in systemd that was indeed fixed quite some time ago.  Perhaps the masking behavior could test the systemd version and only bother doing it for the ancient versions?  Then the bsd lock should be taken during the apply phase in gpartedbin to make sure that things like blkid are not run until after the changes have finished being applied.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-11-21T17:50:15.038Z",
            "updated_at": "2024-11-21T17:50:15.038Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2531259,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2281744,
        "target_iid": 2281744,
        "target_type": "Note",
        "author_id": 149645,
        "target_title": "Punjabi characters not showing properly",
        "created_at": "2024-11-21T06:05:11.719Z",
        "note": {
            "id": 2281744,
            "type": null,
            "body": "Thank you for the response. I am using:\n - GParted Live 1.6.0-10-amd64\n - This done inside a Proxmox (Kernel Version Linux 6.8.4-2-pve) Virtual Machine\n\nI am not sure which font I was using or how to check. I selected all the default options for GParted setup except for language (for which I selected \"Punjabi\" instead of the default \"US English\").\n\nAlso since Punjabi is a digraphia, it is unclear whether text should be written in Gurmukhi or Shahmukhi script. I would suggest adding it in parenthesis like \"Punjabi (Gurmukhi)\".\n\nIf there is not enough bandwhith from developers to handle this, I completely understand. I can try to debug this myself but would appreciate some guidance on where to start.",
            "attachment": null,
            "author": {
                "id": 149645,
                "username": "agamkohli9",
                "name": "Agam Kohli",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/94830f6d7101df75f5bf5f9ec2ff24ab2b7eb40b4ad80747e468392a592d2dde?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/agamkohli9"
            },
            "created_at": "2024-11-21T06:05:11.001Z",
            "updated_at": "2024-11-21T06:05:11.001Z",
            "system": false,
            "noteable_id": 210790,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 270,
            "commands_changes": {}
        },
        "author": {
            "id": 149645,
            "username": "agamkohli9",
            "name": "Agam Kohli",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/94830f6d7101df75f5bf5f9ec2ff24ab2b7eb40b4ad80747e468392a592d2dde?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/agamkohli9"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "agamkohli9"
    },
    {
        "id": 2530240,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2280912,
        "target_iid": 2280912,
        "target_type": "Note",
        "author_id": 126,
        "target_title": "Punjabi characters not showing properly",
        "created_at": "2024-11-20T08:25:56.945Z",
        "note": {
            "id": 2280912,
            "type": null,
            "body": "Hi @agamkohli9, thanks for taking the time to report this. Please always provide the exact version of the application and distribution/operating system information when reporting an issue. Thanks!\n\nAlso, which exact font is being used?",
            "attachment": null,
            "author": {
                "id": 126,
                "username": "aklapper",
                "name": "Andre Klapper",
                "state": "active",
                "locked": false,
                "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/126/avatar.png",
                "web_url": "https://gitlab.gnome.org/aklapper"
            },
            "created_at": "2024-11-20T08:25:56.329Z",
            "updated_at": "2024-11-20T08:26:10.212Z",
            "system": false,
            "noteable_id": 210790,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 270,
            "commands_changes": {}
        },
        "author": {
            "id": 126,
            "username": "aklapper",
            "name": "Andre Klapper",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/126/avatar.png",
            "web_url": "https://gitlab.gnome.org/aklapper"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "aklapper"
    },
    {
        "id": 2530090,
        "project_id": 1638,
        "action_name": "opened",
        "target_id": 210790,
        "target_iid": 270,
        "target_type": "Issue",
        "author_id": 149645,
        "target_title": "Punjabi characters not showing properly",
        "created_at": "2024-11-20T01:08:53.777Z",
        "author": {
            "id": 149645,
            "username": "agamkohli9",
            "name": "Agam Kohli",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/94830f6d7101df75f5bf5f9ec2ff24ab2b7eb40b4ad80747e468392a592d2dde?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/agamkohli9"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "agamkohli9"
    },
    {
        "id": 2529584,
        "project_id": 1638,
        "action_name": "closed",
        "target_id": 195269,
        "target_iid": 243,
        "target_type": "Issue",
        "author_id": 5164,
        "target_title": "iso/live usb 1.5.0 fails to display graphic desktop environment properly + makes network card inoperable",
        "created_at": "2024-11-19T17:00:05.776Z",
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "gedakc"
    },
    {
        "id": 2529581,
        "project_id": 1638,
        "action_name": "closed",
        "target_id": 205629,
        "target_iid": 264,
        "target_type": "Issue",
        "author_id": 5164,
        "target_title": "gparted-live-1.6.0-3-amd64.iso hangs during boot on Lenovo Thinkpad P16 Gen 2 (Nvidia Ada 2000)",
        "created_at": "2024-11-19T16:57:59.550Z",
        "author": {
            "id": 5164,
            "username": "gedakc",
            "name": "Curtis Gedak",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/5164/avatar.png",
            "web_url": "https://gitlab.gnome.org/gedakc"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "gedakc"
    },
    {
        "id": 2528314,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2278869,
        "target_iid": 2278869,
        "target_type": "Note",
        "author_id": 137730,
        "target_title": "gparted-live-1.6.0-3-amd64.iso hangs during boot on Lenovo Thinkpad P16 Gen 2 (Nvidia Ada 2000)",
        "created_at": "2024-11-18T20:27:52.107Z",
        "note": {
            "id": 2278869,
            "type": null,
            "body": "No response, ok ... please at least put a big warning on the top of download page, something along the following lines:\n\n\"WARNING: I, Steven Shiau ( @stevenshiau ), the mighty developer, in my un-ending wisdom, decided to set you Free by **hard-breaking** and making **un-usable** the GParted Live media through removing the needed firmware. Please don't use it, or only at your own risk and if you feel very lucky, as there is now a big chance, that it won't work for you and that it will break (among others) e.g. your network card operation even across reboots.\n\nYou have much better chance, if you download and use some sane live Linux distro containing both the GParted and the firmware.\n\nYou have been warned. Now you are Free.\"\n\nWithout such warning you are just wasting time and energy of your users trying this **broken** and **un-usable** Live media.\n\nThank you, have a nice day :)\n\n\n---\n\nFor Ulrich: \n\nGParted Live media is **un-usable** and **broken** since version 1.5.0 (February 2023), could be fixed easily, but Steven decided to not fix (as the breaking is deliberate & intentional design error). You can read more details about it in this issue: https://gitlab.gnome.org/GNOME/gparted/-/issues/243",
            "attachment": null,
            "author": {
                "id": 137730,
                "username": "John_Smith",
                "name": "John Smith",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/9b1ff2e641091e953bcfa2ba2c1aa609e6ab7a659bbf311064a57d422c5353fb?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/John_Smith"
            },
            "created_at": "2024-11-18T20:27:51.370Z",
            "updated_at": "2024-11-18T20:27:51.370Z",
            "system": false,
            "noteable_id": 205629,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 264,
            "commands_changes": {}
        },
        "author": {
            "id": 137730,
            "username": "John_Smith",
            "name": "John Smith",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/9b1ff2e641091e953bcfa2ba2c1aa609e6ab7a659bbf311064a57d422c5353fb?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/John_Smith"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "John_Smith"
    },
    {
        "id": 2528195,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2278765,
        "target_iid": 2278765,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-18T18:31:54.206Z",
        "note": {
            "id": 2278765,
            "type": null,
            "body": "I think you've got mixed up by the double negatives.  Without noauto\noption, therefore implicit auto, property ReqiredBy=local-fs.target is\nset.  Otherwise not.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-18T18:31:53.314Z",
            "updated_at": "2024-11-18T18:31:53.314Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2527934,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2278523,
        "target_iid": 2278523,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-18T13:38:31.386Z",
        "note": {
            "id": 2278523,
            "type": null,
            "body": "That is strange.  The RequiredBy=local-fs.target should make the system wait for the drive to mount during boot, and if it times out, go into single user mode.  Thus it absolutely should not be there with the noauto mount option.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-11-18T13:38:30.832Z",
            "updated_at": "2024-11-18T13:38:30.832Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2527579,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2278188,
        "target_iid": 2278188,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-17T20:30:06.925Z",
        "note": {
            "id": 2278188,
            "type": null,
            "body": "I expect there is nothing special about Rocky Linux 8 (or Red Hat\nEnterprise Linux 8) other than being supported and having an older\nversion of systemd.  On Ubuntu 18.04 LTS I've just perform my usual test\ncase of running `gpartedbin` and moving a partition with an /etc/fstab\nentry and systemd mounted the FS in the middle of the operation, causing\nit to fail.\n\n|Distro          |systemctl --version|parted --version|FS automounts\n|----------------|-------------------|----------------|-------------\n|Ubuntu 18.04 LTS|237                |3.2             |Yes\n|Rocky Linux 8   |239                |3.2             |Yes\n|Debian 10       |241                |3.2             |No\n|Debian 12       |252                |3.5             |No\n|Fedora 40       |255                |3.6             |No\n\nI also tested with `noauto` mount option added in /etc/fstab.  It\nallowed GParted to successfully move the partition and the FS was never\nmounted.\n\nLooking at the mount unit properties these are the differences:\n```\n[without noauto mount option]   [with noaudo mount option]\nRequiredBy=local-fs.target    <\nWantedBy=dev-sdb1.device        WantedBy-dev-sdb1.device\n```\nThis is with systemd 237.\n[Previously](https://gitlab.gnome.org/GNOME/gparted/-/issues/255#note_2269583)\nwas with systemd 239 on Rocky Linux 8.  This time there is no `Options`\nproperty at all and the `WantedBy` property is set the same without and\nwith the `noauto` mount option.  I assume these differences are down to\nthe different versions of systemd involved.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-17T20:30:06.269Z",
            "updated_at": "2024-11-17T20:30:06.269Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2525732,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2276450,
        "target_iid": 2276450,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-15T13:23:23.332Z",
        "note": {
            "id": 2276450,
            "type": null,
            "body": "Yea, that makes sense if it has the WantedBy.  That should mean that when the device shows up, it triggers the mount.  I asked the systemd guys why the WantedBy attribute is added on Rocky Linux 8 and not others, and if there is a way to modify that.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-11-15T13:21:57.393Z",
            "updated_at": "2024-11-15T13:21:57.393Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2525098,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2275929,
        "target_iid": 2275929,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-14T19:27:37.709Z",
        "note": {
            "id": 2275929,
            "type": null,
            "body": "I've checked the same 4 distros in the above table.  The `WantedBy`\nproperty is only set on Rocky Linux 8, not on Debian 10, Debian 12 nor\nFedora 40.\n\nOn the same 4 distros they all have these `udisk` related processes\nrunning:\n```\n# ps -ef | fgrep udisk\nroot    815     1  0 Nov04 ?    00:00:02 /usr/libexec/udisks2/udisksd\nrocky  2223  1975  0 Nov04 ?    00:00:00 /usr/libexec/gvfs-udisks2-volume-mountor\n```\n\nI am not hopeful that stopping `udisks` will help, because in the above\ntests [On Rocky Linux 8 hold whole disk device lock while moving a\npartition](https://gitlab.gnome.org/GNOME/gparted/-/issues/255#note_2255030)\nand [On Rocky Linux 8 hold whole disk device lock while moving a\npartition and re-scanning\nafterwards](https://gitlab.gnome.org/GNOME/gparted/-/issues/255#note_2263098)\nthe log files have systemd explicitly writing to SYSLOG that it is doing\nthe mounting after the remove and add events occur.  Fragment from one\nof the log files.\n```\nKERNEL[12511.193936] remove   /devices/pci0000:00/0000:00:0d.0/ata2/host1/target1:0:0/1:0:0:0/block/sdb/sdb1 (block)\nKERNEL[12511.195236] change   /devices/pci0000:00/0000:00:0d.0/ata2/host1/target1:0:0/1:0:0:0/block/sdb (block)\nKERNEL[12511.195577] add      /devices/pci0000:00/0000:00:0d.0/ata2/host1/target1:0:0/1:0:0:0/block/sdb/sdb1 (block)\nclose(2)                                = 0\nUDEV  [12511.200050] remove   /devices/pci0000:00/0000:00:0d.0/ata2/host1/target1:0:0/1:0:0:0/block/sdb/sdb1 (block)\n+++ exited with 0 +++\n[root@localhost ~]# \nUDEV  [12511.239698] change   /devices/pci0000:00/0000:00:0d.0/ata2/host1/target1:0:0/1:0:0:0/block/sdb (block)\nUDEV  [12511.253292] add      /devices/pci0000:00/0000:00:0d.0/ata2/host1/target1:0:0/1:0:0:0/block/sdb/sdb1 (block)\nNov 02 12:36:00 localhost.localdomain kernel:  sdb: sdb1\nNov 02 12:36:00 localhost.localdomain systemd[1]: Mounting /mnt/1...\nNov 02 12:36:00 localhost.localdomain kernel: EXT4-fs (sdb1): mounted filesystem with ordered data mode. Opts: (null)\nNov 02 12:36:00 localhost.localdomain systemd[1]: Mounted /mnt/1.\n```",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-14T19:27:36.990Z",
            "updated_at": "2024-11-14T19:27:36.990Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2524970,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2275829,
        "target_iid": 2275829,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-14T17:15:18.294Z",
        "note": {
            "id": 2275829,
            "type": null,
            "body": "Yea, since it had UDISKS in the name I must be thinking back to when it was udisks that did the auto mounting, not systemd.  What about the WantedBy relationship?  On what distro or systemd version did you see that?  Is it present on Rocky Linux 8 but not the others?  I didn't see it on several versions of debian I checked.  Is udisksd running on Rocky Linux 8?  If so you might try stopping it and see if the auto mounting goes away.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-11-14T17:15:17.678Z",
            "updated_at": "2024-11-14T17:15:17.678Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2523920,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2274983,
        "target_iid": 2274983,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-13T23:49:48.636Z",
        "note": {
            "id": 2274983,
            "type": null,
            "body": "I'm testing on Rocky Linux 8 (as a clone of Red Hat Enterprise Linux 8).\nIt is supported until May-2029.  I've also just tested on a range of\nother distros and find I can't reproduce the GParted partition move\nleads to auto-mounting of the FS either.  So that means systemctl 239\nhas the bad auto-mounting behaviour and systemctl >= 241 doesn't.\n|Distro       |systemctl --version|parted --version|FS automounts\n|-------------|-------------------|----------------|-------------\n|Rocky Linux 8|239                |3.2             |Yes\n|Debian 10    |241                |3.2             |No\n|Debian 12    |252                |3.5             |No\n|Fedora 40    |255                |3.6             |No\n\nI did a google for UDISKS_HINT but didn't find anything.  My test VMs\nall have SATA drives so I don't see how a possible USB drive only auto\nmount option would make any difference.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-13T23:49:48.007Z",
            "updated_at": "2024-11-13T23:49:48.007Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2520981,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2272478,
        "target_iid": 2272478,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-11T18:07:55.284Z",
        "note": {
            "id": 2272478,
            "type": null,
            "body": "Ohh, I remember now... there was some sort of UDISKS_HINT flag that gets set specifically on USB disks so that they get auto mounted, and this is not done for non USB disks.  You might be able to use udevadm to change that hint flag.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-11-11T18:07:54.525Z",
            "updated_at": "2024-11-11T18:07:54.525Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2520879,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2272381,
        "target_iid": 2272381,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-11T16:48:12.417Z",
        "note": {
            "id": 2272381,
            "type": null,
            "body": "Oh, I see... so it isn't that partprobe or parted print trigger auto mount.... it is that after moving the partition and using the bsd lock to prevent it from being mounted, the attempt is still pending and can then be triggered by parted print or partprobe.\n\nI'm still wondering why I don't see the WantedBy= which seems like the attribute that is actually driving the auto mount.  I just tried using partx -d and partx -a to remove and then add back the partition, triggering a udev add event, and it still isn't auto mounted.\n\nI'll try moving the partition in gpartedbin to bypass the mount masks.  No auto mounting triggered there either.  Was systemd changed so that it does not auto mount any more?",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-11-11T16:48:11.770Z",
            "updated_at": "2024-11-11T16:48:11.770Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2520733,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2272262,
        "target_iid": 2272262,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-11T15:37:29.305Z",
        "note": {
            "id": 2272262,
            "type": null,
            "body": "My testing always involves using GParted to move the partition.  Both\nthe start and end partition boundaries are moved.  Libparted\n`ped_disk_commit_to_os()` performs `ioctl()` `BLKPG_DEL_PARTITION` and\n`BLKPG_ADD_PARTITION` on the partition.  On the next open for writing\nand close (for example anything calling `ped_disk_new()` [*] to read the\npartition table), the kernel will generate remove and add uevents and\ntrigger mounting of the FS.\n\n[*] [Description of `ped_disk_new()`](https://gitlab.gnome.org/GNOME/gparted/-/issues/255#note_2254244).  Opens the whole disk device and every\npartition for writing so it can flush the buffers to achieve\nsynchronisation between the different caches in the kernel.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-11T15:37:28.709Z",
            "updated_at": "2024-11-11T15:43:23.291Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2520605,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2272143,
        "target_iid": 2272143,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-11T14:35:26.661Z",
        "note": {
            "id": 2272143,
            "type": null,
            "body": "Strange... I just tried this on my gentoo vm and without the noauto mount option, I see the RequiredBy but not the WantedBy, and change events do not cause it to be auto mounted.\n\nHrm.. I see the same thing in my debian testing vm.  I loaded the scsi_debug module, partitioned /dev/sda, formatted /dev/sda1 ext4, added an entry to mount it in /mnt to /etc/fstab, and did a systemctl daemon-reload.  The wants relationship is not there, and running partprobe /dev/sda does not cause it to automount.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-11-11T14:35:26.101Z",
            "updated_at": "2024-11-11T14:35:26.101Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2517708,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2269583,
        "target_iid": 2269583,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-07T22:58:12.816Z",
        "note": {
            "id": 2269583,
            "type": null,
            "body": "Adding the `noauto` option into the mount options in `/etc/fstab` and\nrunning `systemctl daemon-reload` does prevent systemd mounting the FS\nin responce to GParted moving a partition.  (The REMOVE and ADD udev\nevents are emitted, but the FS is not mounted.  Good, those events can't\nbe emitted later to mount the FS and catch GParted out).\n\n[Systemd.mount(5), noauto](https://www.freedesktop.org/software/systemd/man/latest/systemd.mount.html#noauto) says this:\n> noauto, auto  \n> With noauto, the mount unit will not be added as a dependency for\n> local-fs.target or remote-fs.target.  This means that it will not be\n> mounted automatically during boot, unless it is pulled in by some\n> other unit.  ...\n\nUsing `systemctl show --full --no-pager mnt-1.mount` to report the mount\nunit properties without and with the `noauto` option in `/etc/fstab`,\nthe relevant differences appears to be:\n```\n[without noauto mount option]   [with noaudo mount option]\n                              > Options=defaults,noauto\nRequiredBy=local-fs.target    <\nWantedBy=dev-sdb1.device      <\n```\n\nUnfortunately setting these properties doesn't seem to work.\n```\n# systemctl --runtime set-property mnt-1.mount RequiredBy=\nFailed to set unit properties on mnt-1.mount: Cannot set property RequiredBy, or unknown property.\n```\nIt appears very few properties can be set this way.  \n[systemd issue 17644 - OOMScoreAdjust cannot be set with `systemctl set-property`](https://github.com/systemd/systemd/issues/17644)\n\nSo GParted has to either:\n1. Edit `/etc/fstab` adding the `noauto` mount option.\n2. Mask the FS unit.\n\nEither option would be just for the duration of GParted making changes.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-07T22:58:12.227Z",
            "updated_at": "2024-11-07T22:58:12.227Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2517649,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2269529,
        "target_iid": 2269529,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "What gparted is doing?",
        "created_at": "2024-11-07T21:06:49.620Z",
        "note": {
            "id": 2269529,
            "type": null,
            "body": "In this screen shot I am using GParted to copy partition `/dev/sde8`\ninto empty space in device `/dev/sde`.  The **Applying pending\noperations** dialog has a progress bar and also includes the remaining\ntime.\n\n![gparted-i269-copy-progress-bar-1](/uploads/16cf05670e1455a4d701d0a1f68e243f/gparted-i269-copy-progress-bar-1.png)",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-07T21:05:09.467Z",
            "updated_at": "2024-11-07T21:05:09.467Z",
            "system": false,
            "noteable_id": 209866,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 269,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2517571,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2269468,
        "target_iid": 2269468,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-07T19:34:12.387Z",
        "note": {
            "id": 2269468,
            "type": null,
            "body": "In /etc/fstab, it is the noauto mount option.  I'm not sure what that translates to in a systemd mount unit file, but you should be able to add a temporary override unit to change the flag to noauto.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-11-07T19:34:11.711Z",
            "updated_at": "2024-11-07T19:34:11.711Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2517560,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 52,
        "target_title": null,
        "created_at": "2024-11-07T19:17:17.653Z",
        "author": {
            "id": 52,
            "username": "translations",
            "name": "Translations User D-L",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/5852634e5d77b1cd571a13650a25d4787c7b63c2e5fdd7281ee900b8c405d7a9?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/translations"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "30aacd42639834d7bf1e9ed62ae2de8da1e62e79",
            "commit_to": "cd22c010ea77c7168f1bf6f2694c16b4fbf0b9d3",
            "ref": "master",
            "commit_title": "Update Hebrew translation",
            "ref_count": null
        },
        "author_username": "translations"
    },
    {
        "id": 2517559,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 52,
        "target_title": null,
        "created_at": "2024-11-07T19:16:49.799Z",
        "author": {
            "id": 52,
            "username": "translations",
            "name": "Translations User D-L",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/5852634e5d77b1cd571a13650a25d4787c7b63c2e5fdd7281ee900b8c405d7a9?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/translations"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "34b5d2e4585e979a3b1299d8dc611d0d7d4b5ff7",
            "commit_to": "30aacd42639834d7bf1e9ed62ae2de8da1e62e79",
            "ref": "master",
            "commit_title": "Update Hebrew translation",
            "ref_count": null
        },
        "author_username": "translations"
    },
    {
        "id": 2516498,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2268504,
        "target_iid": 2268504,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-06T20:32:23.728Z",
        "note": {
            "id": 2268504,
            "type": null,
            "body": "```\n[root@localhost ~]# grep /mnt/1 /etc/fstab\n/dev/sdb1    /mnt/1    ext4    defaults    0 0\n```",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-06T20:32:22.945Z",
            "updated_at": "2024-11-06T20:32:22.945Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2516494,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2268495,
        "target_iid": 2268495,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-06T20:29:12.960Z",
        "note": {
            "id": 2268495,
            "type": null,
            "body": "Yes it was GParted masking the root file system that caused a failure\nto restart the ssh.service during package upgrade.\n* [Debian bug #948710 -  handle masked .mount unit more gracefully](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=948710)\n\nSystemd was fixed.\n* [systemd issue #14550 - Handle masked .mount units more gracefully](https://github.com/systemd/systemd/issues/14550)\n* [systemd pull request #14596 - core: don't allow perpetual units to be masked](https://github.com/systemd/systemd/pull/14596)\n\nAnd GParted was fixed to not mask the root file system.\n* [Stop masking the root file system mount unit (!116)](https://gitlab.gnome.org/GNOME/gparted/-/commit/4dc683b26177bf97e23390c6439eecf04c8686cb)\n\n\nWhat automount flag is that then?  As far as I can see there is no such\nflag.  It is add and remove uevents which systemd interprets to think\nthe device is newly added and so just mounts the FS for entries it found\nfrom `/etc/fstab` (at startup or later at `systemctl reload-daemon`).",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-06T20:29:12.299Z",
            "updated_at": "2024-11-06T20:29:12.299Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2515720,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2267759,
        "target_iid": 2267759,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "What gparted is doing?",
        "created_at": "2024-11-06T09:32:37.671Z",
        "note": {
            "id": 2267759,
            "type": null,
            "body": "What did you tell GParted to do?  \nWhat operation(s) did you compose?  \nWhat file system types are involved?  \n\nPlease take a screen shot and attach to this issue, even if it's a\npicture using a mobile phone of the screen.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-06T09:32:36.999Z",
            "updated_at": "2024-11-06T09:32:36.999Z",
            "system": false,
            "noteable_id": 209866,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 269,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2515314,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2267422,
        "target_iid": 2267422,
        "target_type": "Note",
        "author_id": 126,
        "target_title": "What gparted is doing?",
        "created_at": "2024-11-05T20:40:10.603Z",
        "note": {
            "id": 2267422,
            "type": null,
            "body": "Hi, thanks for reporting this. Currently this ticket does not describe the problem or topic well. If you have time and can still reproduce the situation, please follow the issue reporting guidelines linked from https://handbook.gnome.org/issues.html and add a more useful description to this ticket, including exact version information, package format (native deb/rpm, or Flatpak/Snap/etc), distribution information, clear and complete steps to reproduce (step by step, click by click), what you expect to happen, and what happens instead. All in separate sections. Thanks!",
            "attachment": null,
            "author": {
                "id": 126,
                "username": "aklapper",
                "name": "Andre Klapper",
                "state": "active",
                "locked": false,
                "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/126/avatar.png",
                "web_url": "https://gitlab.gnome.org/aklapper"
            },
            "created_at": "2024-11-05T20:40:09.997Z",
            "updated_at": "2024-11-05T20:40:09.997Z",
            "system": false,
            "noteable_id": 209866,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 269,
            "commands_changes": {}
        },
        "author": {
            "id": 126,
            "username": "aklapper",
            "name": "Andre Klapper",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/126/avatar.png",
            "web_url": "https://gitlab.gnome.org/aklapper"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "aklapper"
    },
    {
        "id": 2515312,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2267420,
        "target_iid": 2267420,
        "target_type": "Note",
        "author_id": 126,
        "target_title": "What gparted is doing?",
        "created_at": "2024-11-05T20:39:56.266Z",
        "note": {
            "id": 2267420,
            "type": null,
            "body": "This ticket is marked as confidential, so way less people can look at (or work on) this ticket. By not making an issue public without a good reason, you diminish chances that someone can look at this. Confidentiality usually refers to security vulnerabilities, so I am making this ticket public.",
            "attachment": null,
            "author": {
                "id": 126,
                "username": "aklapper",
                "name": "Andre Klapper",
                "state": "active",
                "locked": false,
                "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/126/avatar.png",
                "web_url": "https://gitlab.gnome.org/aklapper"
            },
            "created_at": "2024-11-05T20:39:55.677Z",
            "updated_at": "2024-11-05T20:39:55.677Z",
            "system": false,
            "noteable_id": 209866,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 269,
            "commands_changes": {}
        },
        "author": {
            "id": 126,
            "username": "aklapper",
            "name": "Andre Klapper",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/126/avatar.png",
            "web_url": "https://gitlab.gnome.org/aklapper"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "aklapper"
    },
    {
        "id": 2515185,
        "project_id": 1638,
        "action_name": "opened",
        "target_id": 209866,
        "target_iid": 269,
        "target_type": "Issue",
        "author_id": 149039,
        "target_title": "What gparted is doing?",
        "created_at": "2024-11-05T19:17:11.877Z",
        "author": {
            "id": 149039,
            "username": "BlueRoby62",
            "name": "Roberto Chiaranda",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/e677eb520f1f620bdfd5a2bc2e3cdd2c6609db5bbcf2ea10bbbbf81722f2f8ae?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/BlueRoby62"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "BlueRoby62"
    },
    {
        "id": 2515132,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2267327,
        "target_iid": 2267327,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-05T18:44:20.624Z",
        "note": {
            "id": 2267327,
            "type": null,
            "body": "Hrm.. it sounds like systemd keeps the events pending and retries them any time it sees someone open and close the device until it eventually succeeds.  In a way that makes sense.  The intent of the bsd lock is only to make sure udev doesn't touch the disk at the wrong time, not prevent it from probing it at all.\n\nHrm... what if... rather the *mask* the mount points, you just override the auto mount flag on them?  I think it was the outright masking of the root mount point that caused systemd to be unable to start any services.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-11-05T18:44:20.027Z",
            "updated_at": "2024-11-05T18:44:20.027Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2510983,
        "project_id": 1638,
        "action_name": "opened",
        "target_id": 101052,
        "target_iid": 128,
        "target_type": "MergeRequest",
        "author_id": 111914,
        "target_title": "Adds missing appdata and release information to appstream metadata",
        "created_at": "2024-11-02T18:03:48.013Z",
        "author": {
            "id": 111914,
            "username": "sid",
            "name": "Sid",
            "state": "active",
            "locked": false,
            "avatar_url": "https://gitlab.gnome.org/uploads/-/system/user/avatar/111914/avatar.png",
            "web_url": "https://gitlab.gnome.org/sid"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "sid"
    },
    {
        "id": 2510892,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2263098,
        "target_iid": 2263098,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-11-02T14:57:08.215Z",
        "note": {
            "id": 2263098,
            "type": null,
            "body": "**Test code update**  \nI've updated the GParted test code (branch\n[replace-fs-masking-devel2.2](https://gitlab.gnome.org/mfleetwo/gparted/-/commits/replace-fs-masking-devel2.2?ref_type=heads))\nto:\n1. Take and release BSD/systemd block device locks around device scanning\n\nThis is in addition to the test code already\n[previously](https://gitlab.gnome.org/GNOME/gparted/-/issues/255#note_2253029)\ndoing:\n1. Doesn't mask file systems in the gparted shell wrapper\n2. Take and release systemd block device locks around operation apply\n\n**Test case update**  \nHere's a log of moving a partition in GParted and then running\n`partprobe`.  Again on Rocky Linux 8.  Includes journalctl, udevadm,\nstrace and debugging output.  \n[gparted-i255-ptn-move-remounting-fs-2.log](/uploads/9bd548c47d40a3bdc0ad4106aef820bd/gparted-i255-ptn-move-remounting-fs-2.log)\n\nObservations:\n1. This is a partition move operation so the parition boundaries get\n   removed from and readded to the kernel by libparted using ioctl()\n   BLKPG_DEL_PARTITION and BLKPG_DEL_PARTITION.\n2. GParted holds BSD/systemd device locks the whole time it is calling\n   libparted APIs which open and close devices read-write and write\n   only.\n3. GParted no longer triggers KERNEL and UDEV events and systemd\n   mounting of the file system.\n4. Running `partprobe` after the operation has been applied but while\n   GParted is still running triggers the KERNEL and UDEV remove and add\n   events and systemd mounting of the file system.\n\nSo we again get into the situation of GParted thinking sdb1 is unmounted\nbut it is actually mounted.\n\n**Thoughts**  \nThis is the\n[Sword of Damocles](https://gitlab.gnome.org/GNOME/gparted/-/issues/255#note_2262062)\nhanging over GParted's head I described above.  The same options still\napply I as described there.  The only way BSD block device locking works\nfor GParted would be to hold them for as long as GParted is running but\nthat is worse than what GParted currently does by masking all the file\nsystems for as long as GParted is running.\n\nThe only reasonable plan that I can see to improve GParted is to mask\nfile systems, but just for less time.  Where for less time means:\n1. While GParted is applying operations.\n2. Optionally from a user using GParted to unmount an FS until\n   remounted or GParted closes.\n\nI wish BSD block device locking was useful because it is a lot easier\nthan masking file systems in the GParted C++ code.  Opening a file\ndescriptor and calling flock() is a lot easier than parsing systemctl\noutput to be able to derive the mapping of GParted known mount points\nto systemctl mount unit names so just those can be masked.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-11-02T14:57:07.523Z",
            "updated_at": "2024-11-02T14:57:51.598Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2510012,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2262311,
        "target_iid": 2262311,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-31T22:07:54.711Z",
        "note": {
            "id": 2262311,
            "type": null,
            "body": "If you run flock /dev/sda gpartedbin on the command line, it prevents automounting.  From the discussion I have been having on systemd-devel, it appears that the reason this works is that holding a bsd lock makes udev skip the scan when it sees the event.  It also has an inotify looking for when a program closes a file descriptor that is open for write access, and that makes it try again.  So if you hold a bsd lock with a read only file descriptor the entire time that libparted is doing its thing, then you wait to drop the bsd lock until after libparted has closed its file descriptors, no probing will be done, and so no auto mounting will either.\n\nHowever, that also means that things like the UUID and FS type of the partition will not be updated in udevdb, which might be a bit of a larger hammer than we want here.\n\nIn my last post to the list, I wondered why systemd is ever auto mounting in response to a CHANGE event.  It seems like that should only be done from an ADD event.  Just because you run fsck on a partition does not mean systemd should automatically mount it after fsck runs.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-10-31T22:07:54.005Z",
            "updated_at": "2024-10-31T22:07:54.005Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2509727,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2262062,
        "target_iid": 2262062,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-31T17:55:38.505Z",
        "note": {
            "id": 2262062,
            "type": null,
            "body": "(All scenarios continue to assume a partition has been moved using\nGParted).\n\nBSD device locking and FS masking do fundamentally different things with\nevents.  BSD device locking prevents the KERNEL and UDEV events from\nbeing emitted **NOW**.  They **WILL** be emitted at the next close of a\nwritable file description (when the device is not BSD locked).  Where as\nwith FS masking the KERNEL and UDEV events are emitted **NOW**, it is\njust that FS mounting doesn't occur.\n\nWith BSD device locking it is like a Sword of Damocles hanging over\nGParted's head ready to mount the file system at any moment without it\nknowing.  (e.g. running `partprobe`).  Where as with FS masking those\nevents were emitted but caused no change.\n\nTherefore extending the BSD device locking to include the application of\nchanges and rescan of devices afterwards is still risky.\n\nGParted either has to:\n1. Hold BSD device locks for all the time it is running.  \n   (However after GParted is closed, the next writable fd close on the\n   device will still emit KERNEL and UDEV events and cause the FS to be\n   mounted).\n2. Use FS masking so that the KERNEL and UDEV events don't cause the FS\n   to be mounted.  \n   (It seems feasable to reduce FS masking from all FSs while GParted is\n   running to just the FSs being changed only while the change is\n   applied).\n3. Hold BSD device locks during change application and FS masks during\n   device scanning.  \n   (Extra complexity of both methods just to say GParted holds BSD\n   device locks).",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-10-31T17:55:37.616Z",
            "updated_at": "2024-10-31T17:55:37.616Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2507499,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2260172,
        "target_iid": 2260172,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-29T12:37:01.898Z",
        "note": {
            "id": 2260172,
            "type": null,
            "body": "Ok, apparently udev watches for the O_WRITE file descriptor to be closed then tries to probe again.  This means if you want to prevent auto mounting, you have to open the whole disk readonly, take the bsd lock, then do all of your work with libparted, then after libparted has closed its file descriptors, you can then ( probably after a short delay ), release the bsd lock.\n\nThis is probably why when I tried just calling flock from the command line and running gpartedbin, it worked.  I didn't release the bsd lock until after closing gparted.\n\ngparted may actually want to hold the bsd lock on the disk for as long as that disk is selected in the gui.  That way something else on the system can't cause the disk to change and become different from gparted's view of it.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-10-29T12:37:01.248Z",
            "updated_at": "2024-10-29T12:37:01.248Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2501487,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2255030,
        "target_iid": 2255030,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-22T14:38:18.198Z",
        "note": {
            "id": 2255030,
            "type": null,
            "body": "Here's a log of the **problematic test case** of moving a partition on\nRocky Linux 8 [described\nabove](https://gitlab.gnome.org/GNOME/gparted/-/issues/255#note_2253029).\nIncludes system, udevadm, strace and debugging output.  \n[gparted-i255-ptn-move-remounting-fs-1.log](/uploads/c32d83a2f47af164c1cec77f9c0278fb/gparted-i255-ptn-move-remounting-fs-1.log)\n\nOverview of the important steps:\n1. GParted takes bsd lock on whole disk device /dev/sdb\n2. GParted applies move operation to /dev/sdb1\n3. GParted releases lock on /dev/sdb\n4. User reviews GParted apply operations dialog and presses [Close]\n   button\n5. GParted starts scanning sdb to find the latest configuration and\n   status\n6. GParted makes multiple libparted calls including ped_device_get()\n7. GParted reads /proc/mounts to find which file systems are mounted\n8. GParted reads the partition table using ped_disk_get()\n9. Libparted opens the whole disk device read-write and all partition\n   devices write-only and closes them\n10. KERNEL and UDEV remove and add udev events are issued for the sdb1\n    partition move\n11. GParted finished re-scanning the device\n12. Systemd mounts /dev/sdb1\n\nSo now GParted thinks sdb1 is unmounted but it is actually mounted.\nThis puts GParted in the same situation that caused [Bug 701676 -\ngparted doesn't inhibit systemd mounting, leading to potential data\nloss](https://bugzilla.gnome.org/show_bug.cgi?id=701676) for which we\nmasked file systems to avoid file system corruption and data loss.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-10-22T14:38:17.410Z",
            "updated_at": "2024-10-22T14:38:17.410Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2501299,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2254841,
        "target_iid": 2254841,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-22T12:32:21.485Z",
        "note": {
            "id": 2254841,
            "type": null,
            "body": "Ohh, it's flushing the individual partitions.  Right... that's to work around the fact that Linux gives each block device its own buffer cache so if mkfs writes a filesystem to /dev/sda1, then parted tries to read the superblock using /dev/sda, it might not see it because the two block devices are cached separately.\n\nThat is why I mentioned gparted needs to just notice when things are mounted.  It doesn't really matter if it happens when gparted releases the bsd lock or some other time or even not because of anything gparted did.  No matter when it happens or why, if the state of mounts changes, gparted needs to notice and update its idea of what is mounted.  Right now it just assumes these things won't change while it is running.\n\nIt might be worth bringing this up on the systemd mailing list again.  I think they thought gparted should only need to prevent udev scanning and possibly auto mounting the partition until gparted was completely finished making whatever changes it was going to make, so the bsd lock would do that.  But it seems that there is no way to get around simply reading the partition table triggering auto mounting of everything.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-10-22T12:32:20.816Z",
            "updated_at": "2024-10-22T12:32:20.816Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2500587,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2254244,
        "target_iid": 2254244,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-21T18:51:14.129Z",
        "note": {
            "id": 2254244,
            "type": null,
            "body": "Even now with parted 3.6 it opens the whole disk device read-write and\nall partitions write-only when ped_disk_new() is called to read the\npartition table.\n```\nped_disk_new(dev)\n    ped_device_open(dev) = linux_open()\n        _device_open(dev, RW_MODE)\n            arch_specific->fd = open(\"/dev/sda\", O_RDWR)\n            _flush_cache(dev)\n                ioctl(arch_specific->fd)\n                // for every partition\n                fd = open(name, O_WRONLY, 0)\n                ioctl(fd, BLKFLSBUF)\n                fsync(fd)\n                close(fd)\n    ...\n    ped_device_close(dev) = linux_close()\n        fsync(arch_specific->fd)\n        close(arch_specific->fd)\n```\n\nTaking the BSD whole disk device lock only delays the udev events.  The\nnext time the device is opened for write and close those previously\nqueued uevents are issued.  So following a partition move and release of\nthe lock, there are KERNEL and UDEV remove and add udev events in the\nqueue.  In the middle of the GParted re-scanning the devices when it is\nreading the partition table with ped_disk_new() those queued udev events\nare issued and shortly afterwards the file system is mounted.\n\nWhere as masked file systems ignore the mount requests.  Drat: I've just\nthough that it is very likely that the device lock will queue the udev\nevents so they won't be issued until the re-scan when the file system\nmask is removed and we'll be in the above described situation.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-10-21T18:51:13.361Z",
            "updated_at": "2024-10-21T18:51:13.361Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2500488,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2254161,
        "target_iid": 2254161,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-21T17:08:26.544Z",
        "note": {
            "id": 2254161,
            "type": null,
            "body": "Wait, why is parted trying to open every single possible partition on the disk?  And in write only mode?  Is it because this is an ancient version of parted?\n\nI guess if an auto mount happens while gparted is running, it needs some way to be notified of that and update its internal state.\n\nYou said you plan on masking the filesystem being operated on while the operation is being applied?  Why?  Didn't you say that taking the bsd lock is enough to delay the auto mounting until after the operation is over and the bsd lock is dropped?",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-10-21T17:08:25.968Z",
            "updated_at": "2024-10-21T17:08:25.968Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2499131,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2253029,
        "target_iid": 2253029,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-20T14:57:41.632Z",
        "note": {
            "id": 2253029,
            "type": null,
            "body": "**Code summary**  \nI've got a test version of GParted (branch\n[replace-fs-masking-devel2.1](https://gitlab.gnome.org/mfleetwo/gparted/-/commits/replace-fs-masking-devel2.1?ref_type=heads))\nwith these changes:\n1. Doesn't mask file systems in the gparted shell wrapper\n2. Takes systemd block device locks only while applying operations\n\n**Problematic test case**  \nTesting this on Rocky Linux 8 [1].  After moving an existing partition\nand the block device lock is released, the next read of the partition\ntable using libparted `ped_disk_new()` (either GParted or parted [2])\ntriggers systemd to mount the file system.  Normally when there aren't\nany changes libparted partition table read doesn't trigger systemd to\nmount the file system.\n1. Rocky Linux 8 is a binary compatible clone of Red Hat Enterprise\n   Linux 8, both maintained until 2029.\n2. After applying the operation in GParted, either close the apply\n   dialog and GParted will re-read the partition table or leave GParted\n   with the apply dialog open and run `parted /dev/sdb print` in a\n   terminal.\n\nIt looks like the kernel and/or systemd have the KERNEL and UDEV add and\nremove events queued up but weren't able to issue them because of the\nblock device lock.  So those events were issued at the next opportunity\nof the block device being opened read-write and closed, which happens\nto be the next libparted partition table read `ped_disk_new()`.\n\n**Other issues**  \nI've had one occurrence where systemd kept re-mounting the file system\non every following libparted read of the partition table without further\nmoves of the partition.  Just had to unmount the file system and\nused `parted /dev/sdb print` to trigger it's re-mounting.\n\nJust now I've had a different issue of just unmounting a file system and\nrunning `parted /dev/sdb print` triggering it to be re-mounted without\nany partition changes having been made.  The kernel and/or systemd just\nwants to sent KERNEL and UDEV add and remove events every time the block\ndevice is opened read-write and closed.  syslog, udevadm and strace\nlog:  \n[gparted-i255-parted-print-remounting-fs-1.log](/uploads/9dbd3b3baa6a135118c459874c536b34/gparted-i255-parted-print-remounting-fs-1.log).\n\n**Analysis**  \nThe problem is that this puts GParted back in the equivalent situation\nit was with [Bug 701676 - gparted doesn't inhibit systemd mounting,\nleading to potential data\nloss](https://bugzilla.gnome.org/show_bug.cgi?id=701676).  After\nperforming a partition move operation GParted device scan will discover\nthe moved partition as unmounted, but systemd will mount it after\nGParted checks it's status.  So any future operation on that partition\nwill unknowing be operating on a mounted file system risking file system\ncorruption and data loss.  Back to needing file system masking.\n\n**Next steps**  \nI plan to try also using file system masking, but just for the file\nsystems being operated on and only while the operation is being applied.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-10-20T14:57:40.536Z",
            "updated_at": "2024-11-02T13:27:56.678Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2496450,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2250637,
        "target_iid": 2250637,
        "target_type": "Note",
        "author_id": 33180,
        "target_title": "Gparted does not fully load up",
        "created_at": "2024-10-17T18:35:25.591Z",
        "note": {
            "id": 2250637,
            "type": null,
            "body": "Hello,\nI downloaded a previous version of Gparted and it worked.\nThanks for your help \n\nThanks",
            "attachment": null,
            "author": {
                "id": 33180,
                "username": "matthewatlants4",
                "name": "Matthew Few",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecbbb6a0c520bfcbe17c92337420831f3fe74fde5689e58bf9aaf0e1829c2db1?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/matthewatlants4"
            },
            "created_at": "2024-10-17T18:35:24.914Z",
            "updated_at": "2024-12-05T22:03:03.507Z",
            "system": false,
            "noteable_id": 207761,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 268,
            "commands_changes": {}
        },
        "author": {
            "id": 33180,
            "username": "matthewatlants4",
            "name": "Matthew Few",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecbbb6a0c520bfcbe17c92337420831f3fe74fde5689e58bf9aaf0e1829c2db1?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/matthewatlants4"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "matthewatlants4"
    },
    {
        "id": 2496081,
        "project_id": 1638,
        "action_name": "pushed to",
        "target_id": null,
        "target_iid": null,
        "target_type": null,
        "author_id": 52,
        "target_title": null,
        "created_at": "2024-10-17T13:54:07.228Z",
        "author": {
            "id": 52,
            "username": "translations",
            "name": "Translations User D-L",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/5852634e5d77b1cd571a13650a25d4787c7b63c2e5fdd7281ee900b8c405d7a9?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/translations"
        },
        "imported": false,
        "imported_from": "none",
        "push_data": {
            "commit_count": 1,
            "action": "pushed",
            "ref_type": "branch",
            "commit_from": "ad27cdc939f9e19d49268fd92800122d262ac340",
            "commit_to": "34b5d2e4585e979a3b1299d8dc611d0d7d4b5ff7",
            "ref": "master",
            "commit_title": "Update Portuguese translation",
            "ref_count": null
        },
        "author_username": "translations"
    },
    {
        "id": 2487190,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2242554,
        "target_iid": 2242554,
        "target_type": "Note",
        "author_id": 4062,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-08T22:40:15.354Z",
        "note": {
            "id": 2242554,
            "type": null,
            "body": "No, Fedora 19 is not supported any more.\n\nDuring GParted device scan it calls ped_disk_commit_to_os().  Libparted\n3.1 told the kernel to delete and re-add every partition.  This\ntriggered uevents leading to inactive file system mounting, but after\nGParted had determined the file system was unmounted.\n\nAs far as I know, SLES 12 SP5 is the only supported distro that still\nuses libparted 3.1 and it reaches end of general support October 2024.\n\nAs you say, you changed libparted 3.2 to only tell the kernel to delete\nand re-add moved partitions, resize partitions where only the end\nchanged and non-changed partitions were left alone.  During GParted\ndevice scan all partitions are unchanged.  This change prevents mounting\nof an unmounted file system.  I am slowly working on a change which\nincreases the minimum required version of libparted to 3.2 and allows\nremoval of systemd .mount unit masking.  There's going to have to be a\nlot of testing to make sure there are no corner cases where file systems\ncan be mounted.\n\nSystemd BSD whole device locking only delays processing of uevents so\nafter the lock is release file systems can still be automatically\nmounted.",
            "attachment": null,
            "author": {
                "id": 4062,
                "username": "mfleetwo",
                "name": "Mike Fleetwood",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/mfleetwo"
            },
            "created_at": "2024-10-08T22:40:14.369Z",
            "updated_at": "2024-10-08T22:40:14.369Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 4062,
            "username": "mfleetwo",
            "name": "Mike Fleetwood",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/8cfdedd50ddbfd341b394398a3a33ac75bb1b5c7dfe14eed668c2bd2619719fc?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/mfleetwo"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "mfleetwo"
    },
    {
        "id": 2487077,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2242466,
        "target_iid": 2242466,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-08T21:03:00.768Z",
        "note": {
            "id": 2242466,
            "type": null,
            "body": "Oh, and there is a slight chance I misremembered this a bit and in fact, a simple parted print or gparted rescan won't trigger it, but as soon as you try to resize or add a partition, the other, unmounted partition got deleted and re-added by libparted, causing it to be auto mounted. There was definitely something though about removing and re-adding an unchanged partition.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-10-08T21:02:59.891Z",
            "updated_at": "2024-10-08T21:02:59.891Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2487073,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2242462,
        "target_iid": 2242462,
        "target_type": "Note",
        "author_id": 5485,
        "target_title": "gparted should not mask .mount units",
        "created_at": "2024-10-08T20:58:40.770Z",
        "note": {
            "id": 2242462,
            "type": null,
            "body": "So on Fedora 19 ( is that still even supported? ), does taking a bsd lock prevent the accidental mounting of the other partition?  My guess is that it won't.  IIRC, way back there was a version of parted that used the BLKPG ADD/DEL ioctls and would remove all unrelated and unmounted partitions and add them back even if all you did was a parted print.  That would trigger the auto mount.  I think someone removed the BLKPG ioctl support from parteed because of this and went back to using BLKRRPRT and I noticed that meant you could no longer make any partition changes when any partition on the disk was mounted, so I patched parted to bring back the BLKPG ioctls and made then behave nicer, only removing partitions that the user asked to be removed, only adding ones the user asked to be added, and adding a resize command to use the resize BLKPG ioctl op code to change the size of a mounted partition.\n\nIf fedora 19 had that badly behaved libparted I am thinking of then the proper fix would have been to fix libparted rather than mask mount units in gparted.  You should be able to see it easily by running udevadm monitor to look for the remove/add events while you run a parted print.",
            "attachment": null,
            "author": {
                "id": 5485,
                "username": "psusi",
                "name": "Phillip Susi",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/psusi"
            },
            "created_at": "2024-10-08T20:58:39.858Z",
            "updated_at": "2024-10-08T20:58:39.858Z",
            "system": false,
            "noteable_id": 200926,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 255,
            "commands_changes": {}
        },
        "author": {
            "id": 5485,
            "username": "psusi",
            "name": "Phillip Susi",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecff2891a3832acff49d1a53e32a5d3dc0b684016171b982f4c8b7af657a7b49?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/psusi"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "psusi"
    },
    {
        "id": 2482589,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2239033,
        "target_iid": 2239033,
        "target_type": "Note",
        "author_id": 17770,
        "target_title": "Gparted does not fully load up",
        "created_at": "2024-10-03T20:36:04.777Z",
        "note": {
            "id": 2239033,
            "type": null,
            "body": "You can find all the versions here:\nhttps://sourceforge.net/projects/gparted/files/gparted-live-stable/",
            "attachment": null,
            "author": {
                "id": 17770,
                "username": "stevenshiau",
                "name": "Steven Shiau",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/17c08b5691157bb26a69db8c81d30a9f303c453ab8f477f4c1e1a86d471772ae?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/stevenshiau"
            },
            "created_at": "2024-10-03T20:36:04.204Z",
            "updated_at": "2024-10-03T20:36:04.204Z",
            "system": false,
            "noteable_id": 207761,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 268,
            "commands_changes": {}
        },
        "author": {
            "id": 17770,
            "username": "stevenshiau",
            "name": "Steven Shiau",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/17c08b5691157bb26a69db8c81d30a9f303c453ab8f477f4c1e1a86d471772ae?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/stevenshiau"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "stevenshiau"
    },
    {
        "id": 2482532,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2238982,
        "target_iid": 2238982,
        "target_type": "Note",
        "author_id": 33180,
        "target_title": "Gparted does not fully load up",
        "created_at": "2024-10-03T19:02:44.837Z",
        "note": {
            "id": 2238982,
            "type": null,
            "body": "Hello,\nCan you send me the previous version of GParted software as I know it works.\n\nThanks",
            "attachment": null,
            "author": {
                "id": 33180,
                "username": "matthewatlants4",
                "name": "Matthew Few",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/ecbbb6a0c520bfcbe17c92337420831f3fe74fde5689e58bf9aaf0e1829c2db1?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/matthewatlants4"
            },
            "created_at": "2024-10-03T19:02:44.132Z",
            "updated_at": "2024-10-03T19:02:44.132Z",
            "system": false,
            "noteable_id": 207761,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 268,
            "commands_changes": {}
        },
        "author": {
            "id": 33180,
            "username": "matthewatlants4",
            "name": "Matthew Few",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecbbb6a0c520bfcbe17c92337420831f3fe74fde5689e58bf9aaf0e1829c2db1?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/matthewatlants4"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "matthewatlants4"
    },
    {
        "id": 2481703,
        "project_id": 1638,
        "action_name": "commented on",
        "target_id": 2238263,
        "target_iid": 2238263,
        "target_type": "Note",
        "author_id": 17770,
        "target_title": "Gparted does not fully load up",
        "created_at": "2024-10-03T08:26:38.658Z",
        "note": {
            "id": 2238263,
            "type": null,
            "body": "Following the screen you shared, the next step is to start the X-window system. Maybe it has some issues about your VGA card.\nHave you tried to select the different choice in the boot menu? Like safe VGA mode or failsafe one?",
            "attachment": null,
            "author": {
                "id": 17770,
                "username": "stevenshiau",
                "name": "Steven Shiau",
                "state": "active",
                "locked": false,
                "avatar_url": "https://secure.gravatar.com/avatar/17c08b5691157bb26a69db8c81d30a9f303c453ab8f477f4c1e1a86d471772ae?s=80&d=identicon",
                "web_url": "https://gitlab.gnome.org/stevenshiau"
            },
            "created_at": "2024-10-03T08:26:38.015Z",
            "updated_at": "2024-10-03T08:26:38.015Z",
            "system": false,
            "noteable_id": 207761,
            "noteable_type": "Issue",
            "project_id": 1638,
            "resolvable": false,
            "confidential": false,
            "internal": false,
            "imported": false,
            "imported_from": "none",
            "noteable_iid": 268,
            "commands_changes": {}
        },
        "author": {
            "id": 17770,
            "username": "stevenshiau",
            "name": "Steven Shiau",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/17c08b5691157bb26a69db8c81d30a9f303c453ab8f477f4c1e1a86d471772ae?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/stevenshiau"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "stevenshiau"
    },
    {
        "id": 2480880,
        "project_id": 1638,
        "action_name": "opened",
        "target_id": 207761,
        "target_iid": 268,
        "target_type": "Issue",
        "author_id": 33180,
        "target_title": "Gparted does not fully load up",
        "created_at": "2024-10-02T11:08:35.840Z",
        "author": {
            "id": 33180,
            "username": "matthewatlants4",
            "name": "Matthew Few",
            "state": "active",
            "locked": false,
            "avatar_url": "https://secure.gravatar.com/avatar/ecbbb6a0c520bfcbe17c92337420831f3fe74fde5689e58bf9aaf0e1829c2db1?s=80&d=identicon",
            "web_url": "https://gitlab.gnome.org/matthewatlants4"
        },
        "imported": false,
        "imported_from": "none",
        "author_username": "matthewatlants4"
    }
]